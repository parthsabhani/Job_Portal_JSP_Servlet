package com.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;

import com.model.UserModel;
import com.util.ConnectionClass;

public class UserDao 
{
	Connection c = null;
	
	public int userRegistration(UserModel rmodel)
	{
		int x= 0;
		
		c = ConnectionClass.getConnection();
		String q = "INSERT INTO users (firstName, lastName, email, age, gender, address, phone, password)"
				+ " VALUES (?, ?, ?, ?, ?, ?, ?, ?)";
		
		try 
		{
			PreparedStatement ps = c.prepareStatement(q);
			ps.setString(1, rmodel.getFirstName());
			ps.setString(2, rmodel.getLastName());
			ps.setString(3, rmodel.getEmail());
			ps.setInt(4, rmodel.getAge());
			ps.setString(5, rmodel.getGender());
			ps.setString(6, rmodel.getAddress());
			ps.setString(7, rmodel.getPhone());
			ps.setString(8, rmodel.getPassword());
			
			x = ps.executeUpdate();
			c.close();
		}
		catch(Exception e)
		{
			e.printStackTrace();
		}
		
		return x;
	}

	public boolean isEmailExist(String email)
	{
		boolean result = false;
		c = ConnectionClass.getConnection();
		String q = "select * from users where email = ?";
		try 
		{			
			PreparedStatement ps = c.prepareStatement(q);
			ps.setString(1, email);
		}
		catch (Exception e)
		{
			e.printStackTrace();
		}
	}
}
